"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _classCallCheck2=require("babel-runtime/helpers/classCallCheck"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=require("babel-runtime/helpers/createClass"),_createClass3=_interopRequireDefault(_createClass2),Aggregate=function(){function e(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(0,_classCallCheck3.default)(this,e),this.id=r,this.version=0,this.applyEvents(t)}return(0,_createClass3.default)(e,[{key:"applyEvents",value:function(e){var r=this;return(Array.isArray(e)?e:[e]).map(function(e){if(e.sequenceNumber&&e.sequenceNumber<=r.version)throw new Error("Event came out of sequence");return r.update(e),e.sequenceNumber=e.sequenceNumber||r.version+1,e.aggregateId=e.aggregateId||r.id,r.version=e.sequenceNumber,e})}},{key:"update",value:function(e){}},{key:"validate",value:function(){return!0}}]),e}();exports.default=Aggregate,module.exports=exports.default;
//# sourceMappingURL=maps/aggregate.js.map
