"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function sanitize(e){var t=(e.id,e.name,e.type,e.aggregateId,e.aggregate,e.timestamp,e.actor,(0,_objectWithoutProperties3.default)(e,["id","name","type","aggregateId","aggregate","timestamp","actor"]));return t}Object.defineProperty(exports,"__esModule",{value:!0});var _assign=require("babel-runtime/core-js/object/assign"),_assign2=_interopRequireDefault(_assign),_classCallCheck2=require("babel-runtime/helpers/classCallCheck"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=require("babel-runtime/helpers/createClass"),_createClass3=_interopRequireDefault(_createClass2),_objectWithoutProperties2=require("babel-runtime/helpers/objectWithoutProperties"),_objectWithoutProperties3=_interopRequireDefault(_objectWithoutProperties2),Aggregate=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(0,_classCallCheck3.default)(this,e),this.id=t,this.version=0,this.applyEvents(r)}return(0,_createClass3.default)(e,[{key:"applyEvents",value:function(e){var t=this;return e.map(function(e){if(e.sequenceNumber&&e.sequenceNumber<=t.version)throw new Error("Event came out of sequence");return t.applyEvent(e),e.sequenceNumber=e.sequenceNumber||t.version+1,e.aggregateId=e.aggregateId||t.id,t.version=e.sequenceNumber,e})}},{key:"applyEvent",value:function(e){this.applyData(e)}},{key:"applyData",value:function(e){(0,_assign2.default)(this,sanitize(e))}},{key:"validate",value:function(){return!0}}]),e}();exports.default=Aggregate,module.exports=exports.default;
//# sourceMappingURL=maps/aggregate.js.map
