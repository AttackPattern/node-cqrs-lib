"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=anonymous;var _authorizationError=_interopRequireDefault(require("./authorizationError"));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function asyncGeneratorStep(t,e,r,n,o,u,a){try{var c=t[u](a),i=c.value}catch(t){return void r(t)}c.done?e(i):Promise.resolve(i).then(n,o)}function _asyncToGenerator(c){return function(){var t=this,a=arguments;return new Promise(function(e,r){var n=c.apply(t,a);function o(t){asyncGeneratorStep(n,e,r,o,u,"next",t)}function u(t){asyncGeneratorStep(n,e,r,o,u,"throw",t)}o(void 0)})}}function isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function _construct(t,e,r){return(_construct=isNativeReflectConstruct()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&_setPrototypeOf(o,r.prototype),o}).apply(null,arguments)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function anonymous(){var t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).message,u=void 0===t?"You must be anonymous to invoke this command":t;return function(o,t,e){return function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=_construct(o,e);return n.authorize=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function t(e,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$identity.isAnonymous()){t.next=2;break}throw new _authorizationError.default({command:e,aggregate:r,message:u});case 2:case"end":return t.stop()}},t,this)}));return function(t,e){return r.apply(this,arguments)}}(),n}}}
//# sourceMappingURL=../maps/auth/anonymousDecorator.js.map
