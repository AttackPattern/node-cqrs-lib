"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=system;var _authorizationError=_interopRequireDefault(require("./authorizationError"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var r=this,t=arguments;return new Promise(function(n,o){var a=e.apply(r,t);function i(e,r){try{var t=a[e](r),i=t.value}catch(e){return void o(e)}t.done?n(i):Promise.resolve(i).then(u,s)}function u(e){i("next",e)}function s(e){i("throw",e)}u()})}}function system(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).message,r=void 0===e?"Only the system can invoke this command":e;return function(e,t,n){return function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var a=new(Function.prototype.bind.apply(e,[null].concat(n)));return a.authorize=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$identity.isSystem()){e.next=2;break}throw new _authorizationError.default({command:t,aggregate:n,message:r});case 2:case"end":return e.stop()}},e,this)}));return function(r,t){return e.apply(this,arguments)}}(),a}}}
//# sourceMappingURL=../maps/auth/systemDecorator.js.map
